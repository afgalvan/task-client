(()=>{"use strict";var t={753:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};e.__esModule=!0;var i=n(647),a=new function(){var t=this;this.getTasks=function(){return r(t,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=new Array,[4,fetch(this.API_URL+"/tasks").then((function(t){return t.json()})).then((function(e){return t=e})).catch((function(){return console.error("Unable to connect to server")}))];case 1:return e.sent(),[2,t]}}))}))},this.getTaskById=function(e){return r(t,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=new i.Task,[4,fetch(this.API_URL+"/tasks/"+e).then((function(t){return t.json()})).then((function(e){return t=e})).catch((function(){return console.error("Unable to connect to server")}))];case 1:return n.sent(),[2,t]}}))}))},this.API_URL="http://localhost:8081"};e.default=a},699:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};e.__esModule=!0;var i=n(753),a=n(835),s=new function(){var t=this;this.loadTasksPreviews=function(){var e=document.querySelector("#todo-list");i.default.getTasks().then((function(n){var r=n.map((function(t){return'<div id="task-'+t.id+'" class="task-preview">'+t.title+"</div>"}));e.innerHTML=r.join(""),n.forEach((function(e){document.querySelector("#task-"+e.id).addEventListener("click",(function(){return t.peekTask(e.id)}))}))}))},this.addNewTask=function(){document.querySelector("#add-task").addEventListener("click",(function(){t.registerTask()}))},this.renderTask=function(t){return'\n    <div class="task">\n      <h3>'+t.title+"</h3>\n      <p>\n        <span>state: "+t.state+"</span>\n        <span>priority: "+t.priority+"</span>\n        <span>content: "+t.content+"</span>\n      </p>\n    </div>"},this.peekTask=function(e){var n=document.querySelector("#task-zone");i.default.getTaskById(e).then((function(e){n.innerHTML=t.renderTask(e)}))},this.renderTaskForm=function(){return'\n    <div id="add-task-form">\n    </div>'},this.registerTask=function(){return r(t,void 0,Promise,(function(){var t,e;return o(this,(function(n){switch(n.label){case 0:return t=document.querySelector("#task-zone"),null==(e=document.querySelector(".task"))?[3,2]:(e.style.transform="translateX(150%)",e.style.position="fixed",e.style.width,[4,a.sleep(300)]);case 1:n.sent(),t.innerHTML="",n.label=2;case 2:return t.innerHTML=this.renderTaskForm(),[2]}}))}))},this.taskListToggle=function(){var t=document.querySelector("#todo-list"),e=document.querySelector("#curtain");document.querySelector("#todo-toggle").addEventListener("click",(function(){if(t.style.width="55%","translateX(-100%)"===t.style.transform)return e.style.display="grid",void(t.style.transform="translateX(0)");e.style.display="none",t.style.transform="translateX(-100%)"})),a.restore()}};e.default=s},835:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};e.__esModule=!0,e.restore=e.sleep=void 0,e.sleep=function(t){return n(void 0,void 0,Promise,(function(){return r(this,(function(e){return[2,new Promise((function(e){return setTimeout(e,t)}))]}))}))},e.restore=function(){var t=document.querySelector("#curtain"),e=document.querySelector("#todo-list"),n=window.matchMedia("(min-width: 750px)");n.addEventListener("change",(function(){if(n.matches)return e.style.width="25%",e.style.transform="translateX(0)",e.style.position="static",void(t.style.display="none");e.style.transform="translateX(-100%)",e.style.position="fixed"}))}},647:(t,e)=>{e.__esModule=!0,e.Task=void 0;var n=function(){};e.Task=n},267:(t,e,n)=>{n.r(e)}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{n(267);var t=n(699),e=function(){t.default.loadTasksPreviews(),t.default.addNewTask(),t.default.taskListToggle()};"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})()})();